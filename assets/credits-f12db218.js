import{a as x}from"./index-585ed20f.js";import{_ as C}from"./PersonCard.vue_vue_type_style_index_0_lang-fe26eab2.js";import{_ as S}from"./NoDataFound.vue_vue_type_script_setup_true_lang-aad8acd6.js";import{d as b,r as m,e as $,o as r,c as i,j as a,m as f,a3 as B,$ as d,i as y,M as w,W as L,f as k,b as j,a as _,t as A}from"./index-29acab4d.js";const D={key:0,class:"mt-12 w-full text-center text-gray-500 text-sm flex flex-col items-center"},P={key:0,class:"grid gap-4 grid-media-card mx-3",tabindex:"0"},H=b({__name:"PersonCardListView",props:{apipath:String,params:Object},setup(p){const l=p;function c(){return document.body.scrollHeight-(window.innerHeight||document.documentElement.clientHeight)>2}const s=m(1),u=m(!1),n=m(!1),e=m([]),t=m([]);async function h({done:o}){try{if(!l.apipath)return;if(u.value){o("ok");return}if(u.value=!0,c()){if(t.value=await x.get(l.apipath,{params:{page:s.value}}),n.value=!0,t.value.length===0){o("ok");return}e.value=[...e.value,...t.value],s.value++}else for(;!c();){if(t.value=await x.get(l.apipath,{params:{page:s.value}}),n.value=!0,t.value.length===0){o("ok");return}e.value=[...e.value,...t.value],s.value++}u.value=!1,o("ok")}catch(v){console.error(v),o("error")}}return(o,v)=>{const V=$("VInfiniteScroll");return r(),i(w,null,[a(n)?d("",!0):(r(),i("div",D,[f(B,{size:"48",indeterminate:"",color:"primary"})])),f(V,{mode:"intersect",side:"end",items:a(e),class:"overflow-hidden",onLoad:h},{loading:y(()=>[]),default:y(()=>[a(e).length>0?(r(),i("div",P,[(r(!0),i(w,null,L(a(e),g=>(r(),k(C,{key:g.id,person:g},null,8,["person"]))),128))])):d("",!0),a(e).length===0&&a(n)?(r(),k(S,{key:1,"error-code":"404","error-title":"没有数据","error-description":"无法获取到TMDB媒体信息。"})):d("",!0)]),_:1},8,["items"])],64)}}});const N={key:0,class:"mt-3 md:flex md:items-center md:justify-between"},q={class:"min-w-0 flex-1 mx-0"},E={class:"mb-4 truncate text-2xl font-bold leading-7 text-gray-100 sm:overflow-visible sm:text-4xl sm:leading-9 md:mb-0","data-testid":"page-header"},I={class:"text-moviepilot"},O=b({__name:"credits",props:{paths:Array},setup(p){var n,e;const l=p,c=j(),s=(e=(n=c.query)==null?void 0:n.title)==null?void 0:e.toString();function u(t){return Array.isArray(t)?t.join("/"):t}return(t,h)=>(r(),i("div",null,[a(s)?(r(),i("div",N,[_("div",q,[_("h2",E,[_("span",I,A(a(s)),1)])])])):d("",!0),f(H,{apipath:u(l.paths||""),params:a(c).query},null,8,["apipath","params"])]))}});export{O as default};
