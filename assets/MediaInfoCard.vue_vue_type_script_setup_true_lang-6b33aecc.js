import{d as X,e as Y,Q as Z,R as p,o,c as V,m as u,i as n,ag as ee,a as G,_ as i,aa as H,ab as te,J as c,t as d,az as ae,f,A as ne,a3 as x,a8 as oe,C as ie}from"./index-8d20ef36.js";const ce={key:0,class:"d-flex justify-space-between flex-wrap flex-md-nowrap flex-column flex-md-row"},de={key:0,class:"ma-auto"},le={class:"w-full h-full"},fe=X({__name:"MediaInfoCard",props:{context:Object},setup(e){function K(v=""){return v?v.replace("original","w500"):""}function U(v,b){if(!v||!b)return;const k=`https://www.themoviedb.org/${v==="电影"?"movie":"tv"}/${b}`;window.open(k,"_blank")}return(v,b)=>{const k=Y("VSkeletonLoader");return Z((o(),V("div",null,[u(ie,null,{default:n(()=>{var _,C,S,j,B,N,T,I,$,A;return[(C=(_=e.context)==null?void 0:_.meta_info)!=null&&C.name?(o(),V("div",ce,[(j=(S=e.context)==null?void 0:S.media_info)!=null&&j.poster_path?(o(),V("div",de,[u(ee,{width:"10rem","aspect-ratio":"2/3",class:"object-cover aspect-w-2 aspect-h-3 rounded-lg ring-1 ring-gray-500",src:K((N=(B=e.context)==null?void 0:B.media_info)==null?void 0:N.poster_path),cover:""},{placeholder:n(()=>[G("div",le,[u(k,{class:"object-cover aspect-w-2 aspect-h-3"})])]),_:1},8,["src"])])):i("",!0),G("div",null,[u(H,{class:"pb-1"},{default:n(()=>[u(te,{class:"text-center text-md-left"},{default:n(()=>{var l,m,s,r,w,y;return[c(d(((m=(l=e.context)==null?void 0:l.media_info)==null?void 0:m.title)||((r=(s=e.context)==null?void 0:s.meta_info)==null?void 0:r.name))+" "+d((y=(w=e.context)==null?void 0:w.meta_info)==null?void 0:y.season_episode),1)]}),_:1}),u(ae,{class:"text-center text-md-left"},{default:n(()=>{var l,m,s,r;return[c(d(((m=(l=e.context)==null?void 0:l.media_info)==null?void 0:m.year)||((r=(s=e.context)==null?void 0:s.meta_info)==null?void 0:r.year)),1)]}),_:1})]),_:1}),(I=(T=e.context)==null?void 0:T.media_info)!=null&&I.overview?(o(),f(ne,{key:0,class:"line-clamp-4 overflow-hidden text-ellipsis text-center text-md-left ..."},{default:n(()=>{var l,m;return[c(d((m=(l=e.context)==null?void 0:l.media_info)==null?void 0:m.overview),1)]}),_:1})):i("",!0),u(H,{class:"text-center text-md-left"},{default:n(()=>{var l,m,s,r,w,y,D,L,z,E,J,M,O,P,Q,R,W,q;return[(m=(l=e.context)==null?void 0:l.media_info)!=null&&m.type||(r=(s=e.context)==null?void 0:s.meta_info)!=null&&r.type?(o(),f(x,{key:0,variant:"elevated",class:"me-1 mb-1 text-white bg-blue-500"},{default:n(()=>{var a,t,g,h;return[c(d(((t=(a=e.context)==null?void 0:a.media_info)==null?void 0:t.type)||((h=(g=e.context)==null?void 0:g.meta_info)==null?void 0:h.type)),1)]}),_:1})):i("",!0),(y=(w=e.context)==null?void 0:w.media_info)!=null&&y.category?(o(),f(x,{key:1,variant:"elevated",class:"me-1 mb-1 text-white bg-blue-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.media_info)==null?void 0:t.category),1)]}),_:1})):i("",!0),(L=(D=e.context)==null?void 0:D.media_info)!=null&&L.tmdb_id?(o(),f(x,{key:2,variant:"elevated",color:"success",class:"me-1 mb-1",onClick:b[0]||(b[0]=a=>{var t,g,h,F;return U(((g=(t=e.context)==null?void 0:t.media_info)==null?void 0:g.type)||"",(F=(h=e.context)==null?void 0:h.media_info)==null?void 0:F.tmdb_id)})},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.media_info)==null?void 0:t.tmdb_id),1)]}),_:1})):i("",!0),(E=(z=e.context)==null?void 0:z.meta_info)!=null&&E.edition?(o(),f(x,{key:3,variant:"elevated",class:"me-1 mb-1 text-white bg-red-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.meta_info)==null?void 0:t.edition),1)]}),_:1})):i("",!0),(M=(J=e.context)==null?void 0:J.meta_info)!=null&&M.resource_pix?(o(),f(x,{key:4,variant:"elevated",class:"me-1 mb-1 text-white bg-red-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.meta_info)==null?void 0:t.resource_pix),1)]}),_:1})):i("",!0),(P=(O=e.context)==null?void 0:O.meta_info)!=null&&P.video_encode?(o(),f(x,{key:5,variant:"elevated",class:"me-1 mb-1 text-white bg-orange-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.meta_info)==null?void 0:t.video_encode),1)]}),_:1})):i("",!0),(R=(Q=e.context)==null?void 0:Q.meta_info)!=null&&R.audio_encode?(o(),f(x,{key:6,variant:"elevated",class:"me-1 mb-1 text-white bg-orange-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.meta_info)==null?void 0:t.audio_encode),1)]}),_:1})):i("",!0),(q=(W=e.context)==null?void 0:W.meta_info)!=null&&q.resource_team?(o(),f(x,{key:7,variant:"elevated",class:"me-1 mb-1 text-white bg-cyan-500"},{default:n(()=>{var a,t;return[c(d((t=(a=e.context)==null?void 0:a.meta_info)==null?void 0:t.resource_team),1)]}),_:1})):i("",!0)]}),_:1})])])):i("",!0),(A=($=e.context)==null?void 0:$.meta_info)!=null&&A.name?i("",!0):(o(),f(oe,{key:1,icon:"mdi-alert-circle-outline"},{default:n(()=>[c(" 识别失败，无法识别到有效信息！ ")]),_:1}))]}),_:1})],512)),[[p,e.context]])}}});export{fe as _};
