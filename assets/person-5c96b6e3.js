import{_ as w}from"./MediaCardListView.vue_vue_type_style_index_0_lang-cd9a4d88.js";import{a as k}from"./index-83601d12.js";import{_ as V}from"./NoDataFound.vue_vue_type_script_setup_true_lang-9795ac0b.js";import{d as x,r as h,ax as $,e as C,aN as D,o,c as r,j as t,m as i,a2 as B,_ as a,a as s,i as v,n as I,W as L,t as _,f as P,L as S,Q as z,ag as N,V as R,b as A}from"./index-a900fb48.js";import"./MediaCard.vue_vue_type_style_index_0_lang-0e40df8c.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-a39d80f9.js";import"./ExistIcon-11b45da9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SubscribeEditForm.vue_vue_type_script_setup_true_lang-c4b75c9e.js";import"./index-705cb9e8.js";import"./formatters-16dfb57c.js";const j="/assets/person-def15e8d.png",q={key:0,class:"mt-12 w-full text-center text-gray-500 text-sm flex flex-col items-center"},E={key:1,class:"max-w-8xl mx-auto px-4"},F={class:"relative z-10 mt-4 mb-8 flex flex-col items-center lg:flex-row"},K={class:"text-start ms-3 md:text-center"},M={class:"text-3xl lg:text-4xl"},Q={class:"mt-1 mb-2 space-y-1 text-xs sm:text-sm lg:text-base"},W={key:0},G={key:1},H={key:2},J={key:0},O={class:"relative text-left"},T={class:"group outline-none ring-0",role:"button",tabindex:"-1"},U={class:"pt-2 text-sm lg:text-base",style:{"overflow-wrap":"break-word"}},X={class:"slider-header"},Y=s("span",null,"参演作品",-1),Z=x({__name:"PersonDetailView",props:{personid:String,type:String},setup(g){const c=g,e=h({}),d=h(!1),p=h(!1);async function m(){c.personid&&(e.value=await k.get(`tmdb/person/${c.personid}`),d.value=!0)}function u(){var n,l;return(n=e.value)!=null&&n.profile_path?`https://image.tmdb.org/t/p/w600_and_h900_bestv2${(l=e.value)==null?void 0:l.profile_path}`:j}function f(){var n;return(n=e.value)!=null&&n.also_known_as?e.value.also_known_as.join("、"):""}return $(()=>{m()}),(n,l)=>{const y=C("RouterLink"),b=D("img");return o(),r(S,null,[t(d)?a("",!0):(o(),r("div",q,[i(B,{size:"48",indeterminate:"",color:"primary"})])),t(e).id?(o(),r("div",E,[s("div",F,[i(L,{size:"200",class:I({"ring-1 ring-gray-700":t(p)})},{default:v(()=>[z(i(N,{src:u(),cover:"",onLoad:l[0]||(l[0]=ee=>p.value=!0)},null,8,["src"]),[[b]])]),_:1},8,["class"]),s("div",K,[s("h1",M,_(t(e).name),1),s("div",Q,[s("div",null,[t(e).birthday?(o(),r("span",W,_(t(e).birthday),1)):a("",!0),t(e).place_of_birth?(o(),r("span",G," | ")):a("",!0),t(e).place_of_birth?(o(),r("span",H,_(t(e).place_of_birth),1)):a("",!0)]),t(e).also_known_as?(o(),r("div",J," 别名："+_(f()),1)):a("",!0)])])]),s("div",O,[s("div",T,[s("p",U,_(t(e).biography),1)])]),s("div",null,[s("div",X,[i(y,{to:`/browse/tmdb/person/credits/${t(e).id}?title=参演作品`,class:"slider-title"},{default:v(()=>[Y,i(R,{icon:"mdi-arrow-right-circle-outline",class:"ms-1"})]),_:1},8,["to"])]),i(w,{apipath:`tmdb/person/credits/${t(e).id}`},null,8,["apipath"])])])):a("",!0),!t(e).id&&t(d)?(o(),P(V,{key:2,"error-code":"500","error-title":"出错啦！","error-description":"无法获取到媒体信息，请检查网络连接。"})):a("",!0)],64)}}}),_e=x({__name:"person",setup(g){var p,m,u,f;const c=A(),e=(m=(p=c.query)==null?void 0:p.personid)==null?void 0:m.toString(),d=(f=(u=c.query)==null?void 0:u.type)==null?void 0:f.toString();return(n,l)=>(o(),r("div",null,[i(Z,{personid:t(e),type:t(d)},null,8,["personid","type"])]))}});export{_e as default};
