import{a as M}from"./index-253bfa29.js";import{_ as N}from"./MediaCard.vue_vue_type_style_index_0_lang-f18fbbda.js";import{d as x,e as D,o as s,c as v,m as c,i as V,a as w,t as E,V as R,r as d,q as C,al as j,aT as z,l as L,j as u,I as y,_ as W,L as $,aD as B,aU as I,f as b,a9 as P,U as T}from"./index-e47a80b5.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const q={class:"ms-1"},A=x({__name:"SlideViewTitle",props:{linkurl:String,title:String},setup(o){const n=o;return(e,l)=>{const r=D("RouterLink");return s(),v("div",q,[c(r,{to:n.linkurl?n.linkurl:"",class:"slider-title"},{default:V(()=>[w("span",null,E(n.title),1),c(R,{icon:"mdi-arrow-right-circle-outline",class:"ms-1"})]),_:1},8,["to"])])}}}),F={class:"flex justify-between mt-3"},G={key:0,class:"me-1 d-none d-md-flex"},H=x({__name:"SlideView",props:{linkurl:String,title:String},setup(o){const n=o,e=d(),l=d(0),r=d(0);let a,f,t,p,m;function k(_){let i;_?(i=(m+p)*t,i>=e.value.scrollWidth-e.value.clientWidth&&(i=e.value.scrollWidth-e.value.clientWidth)):(i=(m-p)*t,i<=0&&(i=0)),e.value.scrollTo({top:0,left:i,behavior:"smooth"})}function h(){a=e.value.children.length,t=e.value.firstElementChild.getBoundingClientRect().width,f=e.value.scrollWidth/a-t,t+=f,p=Math.trunc(e.value.clientWidth/t),S()}function S(){r.value=e.value.scrollLeft,m=e.value.scrollLeft===0?0:Math.trunc((e.value.scrollLeft+t/2)/t),a*t<=e.value.clientWidth?l.value=3:e.value.scrollLeft===0?l.value=0:e.value.scrollLeft>=e.value.scrollWidth-e.value.clientWidth-2?l.value=2:l.value=1}return C(()=>{h(),window.addEventListener("resize",h)}),j(()=>{window.removeEventListener("resize",h)}),z(()=>{r.value!==0&&(e.value.scrollLeft=r.value)}),(_,i)=>(s(),v($,null,[w("div",F,[L(_.$slots,"title",{},()=>[c(A,B(I(n)),null,16)],!0),u(l)!==3?(s(),v("div",G,[c(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-left",color:"grey",disabled:u(l)===0,onClick:i[0]||(i[0]=g=>k(!1))},null,8,["disabled"]),c(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-right",color:"grey",disabled:u(l)===2,onClick:i[1]||(i[1]=g=>k(!0))},null,8,["disabled"])])):W("",!0)]),w("div",{ref_key:"slideview_content",ref:e,class:"slideview_content grid grid-rows-1 grid-flow-col justify-start gap-4 p-3",tabindex:"0",onScroll:S},[L(_.$slots,"content",{},void 0,!0)],544)],64))}});const J=U(H,[["__scopeId","data-v-28872308"]]),Y=x({__name:"MediaCardSlideView",props:{apipath:String,linkurl:String,title:String},setup(o){const n=o,e=d(!1),l=d([]);async function r(){try{if(!n.apipath)return;l.value=await M.get(n.apipath),l.value.length>0&&(e.value=!0)}catch(a){console.error(a)}}return C(r),(a,f)=>u(e)?(s(),b(J,B(P({key:0},n)),{content:V(()=>[(s(!0),v($,null,T(u(l),t=>(s(),b(N,{key:t.tmdb_id||t.douban_id,media:t,height:"15rem",width:"10rem"},null,8,["media"]))),128))]),_:1},16)):W("",!0)}});export{J as S,Y as _};
