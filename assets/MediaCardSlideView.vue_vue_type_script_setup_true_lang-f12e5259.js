import{d as w,e as B,o as a,c as p,m as d,i as V,a as g,t as M,V as N,r as v,q as L,ag as z,l as S,j as u,I as y,W,M as C,aD as $,aV as D,f as b,z as E,a1 as R,a2 as j}from"./index-7936348a.js";import{_ as I}from"./MediaCard.vue_vue_type_style_index_0_lang-a2c7ba27.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const T={class:"ms-1"},q=w({__name:"SlideViewTitle",props:{linkurl:String,title:String},setup(o){const i=o;return(e,t)=>{const r=B("RouterLink");return a(),p("div",T,[d(r,{to:i.linkurl?i.linkurl:"",class:"slider-title"},{default:V(()=>[g("span",null,M(i.title),1),d(N,{icon:"mdi-arrow-right-circle-outline",class:"ms-1"})]),_:1},8,["to"])])}}}),F={class:"flex justify-between mt-3"},U={key:0,class:"me-1 d-none d-md-flex"},A=w({__name:"SlideView",props:{linkurl:String,title:String},setup(o){const i=o,e=v(),t=v(0);let r,c,n,s,f;function x(_){let l;_?(l=(f+s)*n,l>=e.value.scrollWidth-e.value.clientWidth&&(l=e.value.scrollWidth-e.value.clientWidth)):(l=(f-s)*n,l<=0&&(l=0)),e.value.scrollTo({top:0,left:l,behavior:"smooth"})}function m(){r=e.value.children.length,n=e.value.firstElementChild.getBoundingClientRect().width,c=e.value.scrollWidth/r-n,n+=c,s=Math.trunc(e.value.clientWidth/n),k()}function k(){f=e.value.scrollLeft===0?0:Math.trunc((e.value.scrollLeft+n/2)/n),r*n<=e.value.clientWidth?t.value=3:e.value.scrollLeft===0?t.value=0:e.value.scrollLeft>=e.value.scrollWidth-e.value.clientWidth-2?t.value=2:t.value=1}return L(()=>{m(),window.addEventListener("resize",m)}),z(()=>{window.removeEventListener("resize",m)}),(_,l)=>(a(),p(C,null,[g("div",F,[S(_.$slots,"title",{},()=>[d(q,$(D(i)),null,16)],!0),u(t)!==3?(a(),p("div",U,[d(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-left",color:"grey",disabled:u(t)===0,onClick:l[0]||(l[0]=h=>x(!1))},null,8,["disabled"]),d(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-right",color:"grey",disabled:u(t)===2,onClick:l[1]||(l[1]=h=>x(!0))},null,8,["disabled"])])):W("",!0)]),g("div",{ref_key:"slideview_content",ref:e,class:"slideview_content grid grid-rows-1 grid-flow-col justify-start gap-4 p-3",tabindex:"0",onScroll:k},[S(_.$slots,"content",{},void 0,!0)],544)],64))}});const G=P(A,[["__scopeId","data-v-c818dde2"]]),O=w({__name:"MediaCardSlideView",props:{apipath:String,linkurl:String,title:String},setup(o){const i=o,e=v(!1),t=v([]);async function r(){try{if(!i.apipath)return;t.value=await R.get(i.apipath),t.value.length>0&&(e.value=!0)}catch(c){console.error(c)}}return L(r),(c,n)=>u(e)?(a(),b(G,$(E({key:0},i)),{content:V(()=>[(a(!0),p(C,null,j(u(t),s=>(a(),b(I,{key:s.tmdb_id||s.douban_id,media:s,height:"15rem",width:"10rem"},null,8,["media"]))),128))]),_:1},16)):W("",!0)}});export{G as S,O as _};
