import{a as B}from"./index-f16a791c.js";import{_ as M}from"./MediaCard.vue_vue_type_style_index_0_lang-fef36934.js";import{d as w,e as N,o as a,c as p,m as d,i as L,a as g,t as z,V as E,r as v,q as V,al as R,l as k,j as u,I as y,$ as C,M as W,aC as $,aS as j,f as b,z as D,W as I}from"./index-0516855f.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const T={class:"ms-1"},q=w({__name:"SlideViewTitle",props:{linkurl:String,title:String},setup(o){const n=o;return(e,t)=>{const r=N("RouterLink");return a(),p("div",T,[d(r,{to:n.linkurl?n.linkurl:"",class:"slider-title"},{default:L(()=>[g("span",null,z(n.title),1),d(E,{icon:"mdi-arrow-right-circle-outline",class:"ms-1"})]),_:1},8,["to"])])}}}),F={class:"flex justify-between mt-3"},U={key:0,class:"me-1 d-none d-md-flex"},A=w({__name:"SlideView",props:{linkurl:String,title:String},setup(o){const n=o,e=v(),t=v(0);let r,c,i,s,m;function x(_){let l;_?(l=(m+s)*i,l>=e.value.scrollWidth-e.value.clientWidth&&(l=e.value.scrollWidth-e.value.clientWidth)):(l=(m-s)*i,l<=0&&(l=0)),e.value.scrollTo({top:0,left:l,behavior:"smooth"})}function f(){r=e.value.children.length,i=e.value.firstElementChild.getBoundingClientRect().width,c=e.value.scrollWidth/r-i,i+=c,s=Math.trunc(e.value.clientWidth/i),S()}function S(){m=e.value.scrollLeft===0?0:Math.trunc((e.value.scrollLeft+i/2)/i),r*i<=e.value.clientWidth?t.value=3:e.value.scrollLeft===0?t.value=0:e.value.scrollLeft>=e.value.scrollWidth-e.value.clientWidth-2?t.value=2:t.value=1}return V(()=>{f(),window.addEventListener("resize",f)}),R(()=>{window.removeEventListener("resize",f)}),(_,l)=>(a(),p(W,null,[g("div",F,[k(_.$slots,"title",{},()=>[d(q,$(j(n)),null,16)],!0),u(t)!==3?(a(),p("div",U,[d(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-left",color:"grey",disabled:u(t)===0,onClick:l[0]||(l[0]=h=>x(!1))},null,8,["disabled"]),d(y,{class:"rounded-circle",variant:"text",icon:"mdi-chevron-right",color:"grey",disabled:u(t)===2,onClick:l[1]||(l[1]=h=>x(!0))},null,8,["disabled"])])):C("",!0)]),g("div",{ref_key:"slideview_content",ref:e,class:"slideview_content grid grid-rows-1 grid-flow-col justify-start gap-4 p-3",tabindex:"0",onScroll:S},[k(_.$slots,"content",{},void 0,!0)],544)],64))}});const G=P(A,[["__scopeId","data-v-c818dde2"]]),Q=w({__name:"MediaCardSlideView",props:{apipath:String,linkurl:String,title:String},setup(o){const n=o,e=v(!1),t=v([]);async function r(){try{if(!n.apipath)return;t.value=await B.get(n.apipath),t.value.length>0&&(e.value=!0)}catch(c){console.error(c)}}return V(r),(c,i)=>u(e)?(a(),b(G,$(D({key:0},n)),{content:L(()=>[(a(!0),p(W,null,I(u(t),s=>(a(),b(M,{key:s.tmdb_id||s.douban_id,media:s,height:"15rem",width:"10rem"},null,8,["media"]))),128))]),_:1},16)):C("",!0)}});export{G as S,Q as _};
